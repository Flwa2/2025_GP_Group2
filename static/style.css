:root{
  --bg1:#0a1122;
  --bg2:#050a16;
  --dot:#0f1f38;
  --text:#e5e5e5;
  --accent:#10b981;
  --accent-glow:rgba(16,185,129,.6);
  --card-bg:rgba(15,23,42,.82);
  --border:rgba(16,185,129,.3);
  --error:#ff6b6b;
}

/* ========== GLOBAL BACKGROUND ========== */
body,.bg-app{
  margin:0;
  font-family:"Poppins",sans-serif;
  color:var(--text);
  background:
    radial-gradient(var(--dot) 1px,transparent 1px),
    radial-gradient(circle at top left,var(--bg1),var(--bg2));
  background-size:25px 25px,auto;
  background-attachment:fixed;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
}

/* ========== HEADER ========== */
.app-header{
  position:fixed; top:0; left:0; width:100%; height:80px;
  background:rgba(4,21,38,.9); backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(16,185,129,.25);
  display:flex; align-items:center; justify-content:flex-start;
  padding:0 2.5rem; box-shadow:0 2px 15px rgba(0,0,0,.35); z-index:1000;
}
.logo-link{ display:flex; align-items:center; gap:14px; text-decoration:none; transition:.3s ease; }
.app-logo{ height:68px; width:auto; object-fit:contain; filter:drop-shadow(0 0 6px rgba(16,185,129,.3)); transition:transform .3s ease,filter .3s ease; }
.logo-text{ font-size:1.75rem; font-weight:600; color:var(--accent); letter-spacing:.5px; line-height:1; text-shadow:0 0 10px var(--accent-glow); transition:.3s ease; }
.logo-link:hover .app-logo{ transform:scale(1.08); filter:drop-shadow(0 0 15px var(--accent)); }
.logo-link:hover .logo-text{ color:#1afcb2; text-shadow:0 0 25px var(--accent-glow),0 0 35px var(--accent); }

/* ========== MAIN CONTAINER ========== */
.main-container{ width:100%; max-width:980px; margin:120px auto 60px; padding:0 1.5rem; box-sizing:border-box; }
.title{ text-align:center; color:var(--accent); font-size:2rem; text-shadow:0 0 25px var(--accent-glow); margin-bottom:1.8rem; }
.form-card{
  background:var(--card-bg); border:1px solid var(--border); border-radius:20px;
  box-shadow:0 0 25px rgba(16,185,129,.15); padding:2.5rem; width:100%; box-sizing:border-box;
}

/* ========== LABELS & INPUTS ========== */
label{ display:block; margin-top:1.2rem; margin-bottom:6px; font-weight:500; color:#cfd2d8; }
.input-field,.select-field,.textarea-field{
  width:100%; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.15);
  border-radius:10px; padding:.8rem 1rem; font-size:.95rem; color:var(--text);
  transition:all .2s ease; box-sizing:border-box; margin-top:2px; margin-bottom:14px;
}
.select-field.black-text option{ color:#000; }
.input-field:focus,.select-field:focus,.textarea-field:focus{
  border-color:var(--accent); box-shadow:0 0 15px rgba(16,185,129,.4); outline:none;
}
.textarea-field{ min-height:150px; resize:vertical; }

/* ========== SPEAKER GRID ========== */
.section-title{ font-size:1.25rem; margin-top:1.5rem; color:var(--text); }
.speaker-grid{
  display:flex; justify-content:space-between; align-items:stretch; gap:1.5rem;
  margin-top:1rem; flex-wrap:nowrap; width:100%; box-sizing:border-box;
}
.speaker-box{
  flex:1; background:rgba(255,255,255,.04); border:1px solid var(--border); border-radius:15px;
  padding:1.4rem; box-sizing:border-box; transition:all .25s ease;
}
.speaker-box:hover{ transform:translateY(-3px); box-shadow:0 0 25px rgba(16,185,129,.3); }
.speaker-box h3{ margin-top:0; color:var(--accent); font-size:1rem; }
.speaker-box.active{ box-shadow:0 0 15px var(--accent); border:1px solid var(--accent); }

/* ========== BUTTONS (BIG + CONSISTENT) ========== */
.btn{
  -webkit-appearance:none; appearance:none;
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; font-weight:700; text-decoration:none; cursor:pointer;
  border:none; border-radius:9999px; transition:.25s ease; box-sizing:border-box;
}

/* large default used across the app */
.btn--lg{ height:56px; min-width:200px; padding:0 28px; font-size:1.05rem; }

/* Filled (green) */
.btn--primary{
  background:var(--accent); color:#fff;
  box-shadow:0 0 25px rgba(16,185,129,.55);
}
.btn--primary:hover{
  transform:scale(1.05);
  background:#14c89d;
  box-shadow:0 0 40px rgba(16,185,129,.85);
}

/* Outline (Back) */
.btn--secondary{
  background:transparent;
  color:var(--accent);
  border:2px solid var(--accent);
  box-shadow:0 0 20px rgba(16,185,129,.25);
}
.btn--secondary:hover{
  background:var(--accent);
  color:#0f172a;
  box-shadow:0 0 35px var(--accent-glow);
}

/* Map your legacy classes to big buttons */
.generate-btn,
.btn-primary,
#generateBtn,
#nextBtn{
  display:inline-flex; align-items:center; justify-content:center;
  height:56px; min-width:200px; padding:0 28px;
  font-size:1.05rem; font-weight:700;
  background:var(--accent); color:#fff; border:none; border-radius:9999px;
  box-shadow:0 0 25px rgba(16,185,129,.55);
}
.generate-btn:hover,
.btn-primary:hover,
#generateBtn:hover,
#nextBtn:hover{ transform:scale(1.05); background:#14c89d; box-shadow:0 0 40px rgba(16,185,129,.85); }

.secondary-btn,
#backBtn{
  display:inline-flex; align-items:center; justify-content:center;
  height:56px; min-width:200px; padding:0 28px;
  font-size:1.05rem; font-weight:700;
  background:transparent; color:var(--accent);
  border:2px solid var(--accent); border-radius:9999px;
  box-shadow:0 0 20px rgba(16,185,129,.25);
}
.secondary-btn:hover,
#backBtn:hover{ background:var(--accent); color:#0f172a; box-shadow:0 0 35px var(--accent-glow); }

/* horizontal layout helper */
.btn-row{ display:flex; align-items:center; gap:12px; }

/* Home “Start” button keeps its hero size */
.start-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  background:#10b981; color:#fff; font-weight:700; font-size:1.25rem;
  border-radius:9999px; padding:1rem 3rem; transition:all .3s;
  box-shadow:0 0 20px rgba(16,185,129,.5);
}
.start-btn:hover{ box-shadow:0 0 40px rgba(16,185,129,.9); transform:scale(1.05); background:#34d399; }

/* === Step 1: keep the Next button close to the speaker grid === */
.step1-actions {
  margin-top: 10px;            /* tight gap right under the grid */
  display: flex;
  justify-content: flex-start; /* left align */
}

/* Make sure the Next button is large and matches your primary size */
.step1-actions .btn,
#nextBtn.generate-btn {
  height: 56px;                /* big, consistent height */
  min-width: 220px;            /* nice wide pill */
  padding: 0 24px;             /* comfy horizontal padding */
  font-size: 1.05rem;
  border-radius: 9999px;
  box-shadow: 0 0 28px rgba(16,185,129,.55);
  margin-top: 0;               /* kill any inherited top margin */
}

/* Optional: slightly reduce bottom padding of the card ONLY for step 1
   so the glow doesn’t look like it’s floating in space */
#step-1 ~ .save-section { /* no-op guard if copied elsewhere */ }
#step-1 .form-card { padding-bottom: 1.75rem; }  /* if your markup wraps it that way */


/* ========== PROGRESS BAR ========== */
.progress-container{ display:none; flex-direction:column; align-items:center; margin-top:1.2rem; gap:.5rem; }
.progress-bar{ width:80%; height:10px; border-radius:9999px; background:rgba(16,185,129,.2); overflow:hidden; }
.progress-fill{ height:100%; width:0%; background:var(--accent); border-radius:9999px; transition:width .2s ease; }
#progressText{ font-size:.9rem; color:#b9f6ca; }

/* ========== ERROR STYLES ========== */
.error-msg{ color:var(--error); font-size:.9rem; margin-top:.3rem; }
.field-invalid{ border-color:var(--error)!important; box-shadow:0 0 0 2px rgba(255,107,107,.2)!important; }
.card-invalid{ border-color:var(--error)!important; }

/* ========== SCRIPT EDIT PAGE ========== */
.guidelines-box{
  background:rgba(16,185,129,.1); border-left:4px solid var(--accent); border-radius:15px;
  padding:1.5rem; box-shadow:0 0 20px rgba(16,185,129,.25); width:100%; box-sizing:border-box;
}
.guidelines-box h2{ margin-top:0; color:var(--accent); }

/* one-per-line guidelines */
.guidelines-list{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.guidelines-list li{
  background:#b9ffd6; color:#0a2b1f; border-radius:10px; padding:10px 14px; font-weight:500;
  display:flex; align-items:center; gap:10px;
}
.guidelines-list .num{
  display:inline-grid; place-items:center; width:22px; height:22px; border-radius:999px;
  background:var(--accent); color:#0b1220; font-size:12px; font-weight:700;
}
.guidelines-list code{
  background:rgba(0,0,0,.18); padding:0 6px; border-radius:6px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;
}

.script-container{ margin-top:2rem; width:100%; box-sizing:border-box; }
#scriptEditor{
  width:100%; min-height:350px; background:rgba(0,0,0,.35);
  border:1px solid rgba(16,185,129,.35); border-radius:15px; padding:1rem;
  font-family:"Courier New",monospace; color:#d0ffd6; resize:vertical; line-height:1.5;
  overflow-y:auto; transition:.3s ease; box-sizing:border-box;
}
#scriptEditor:focus{ border-color:var(--accent); box-shadow:0 0 15px rgba(16,185,129,.5); outline:none; }

/* Custom scrollbar (editor only) */
#scriptEditor::-webkit-scrollbar{ width:10px; }
#scriptEditor::-webkit-scrollbar-track{ background:rgba(255,255,255,.08); border-radius:10px; }
#scriptEditor::-webkit-scrollbar-thumb{
  background:linear-gradient(180deg,var(--accent),#0d7a5c); border-radius:10px; box-shadow:0 0 10px rgba(16,185,129,.6);
}
#scriptEditor::-webkit-scrollbar-thumb:hover{ background:linear-gradient(180deg,#11d99f,#0d7a5c); }

/* ========== SAVE AREA (Edit page bottom) ========== */
.save-section{ display:flex; align-items:center; justify-content:flex-start; gap:1rem; margin-top:1.2rem; }
.save-status{ color:#a0ffb4; font-size:.95rem; font-weight:500; opacity:.9; transform:translateY(1px); }

/* ========== WIZARD ========== */
.wizard{ display:flex; align-items:center; justify-content:center; gap:1.25rem; margin:1.5rem 0 2rem; }
.wizard-step{ display:flex; flex-direction:column; align-items:center; text-align:center; }
.wizard-dot{
  width:40px; height:40px; border-radius:9999px; display:flex; align-items:center; justify-content:center;
  font-weight:700; box-shadow:0 0 20px rgba(16,185,129,.35);
}
.wizard-label{ margin-top:.4rem; font-size:.9rem; opacity:.85; }
.wiz-active{ background:var(--accent); color:#0f172a; }
.wiz-done{ background:#16c79a; color:#0f172a; }
.wiz-pending{ background:#2b3b52; color:#c9d1db; }
.wizard-line{
  width:90px; height:6px; border-radius:9999px; background:rgba(203,213,225,.25); box-shadow:inset 0 0 6px rgba(0,0,0,.3);
}
.wizard-line--on{ background:var(--accent); }

/* Helpers */
.step-hidden{ display:none!important; }
.field-error{ outline:2px solid #ff5e5e!important; box-shadow:0 0 0 3px rgba(255,94,94,.25); }

/* --- Match Back to Text & Save Script sizes on Script Edit page --- */
.save-section .secondary-btn,
.save-section .btn--primary,
.save-section .btn-primary {
  height: 56px;
  min-width: 200px;
  padding: 0 28px;
  font-size: 1.05rem;
  font-weight: 700;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

/* Back to Text outline version */
.save-section .secondary-btn {
  border: 2px solid var(--accent);
  color: var(--accent);
  background: transparent;
  box-shadow: 0 0 22px rgba(16, 185, 129, 0.35);
  text-decoration: none;
}

.save-section .secondary-btn:hover {
  background: var(--accent);
  color: #0f172a;
  box-shadow: 0 0 35px var(--accent-glow);
}

/* Save Script filled version */
.save-section .btn--primary,
.save-section .btn-primary {
  background: var(--accent);
  color: #fff;
  border: none;
  box-shadow: 0 0 25px rgba(16, 185, 129, 0.55);
}

.save-section .btn--primary:hover,
.save-section .btn-primary:hover {
  background: #14c89d;
  transform: scale(1.05);
  box-shadow: 0 0 40px rgba(16, 185, 129, 0.85);
}

/* ====== Mobile (≤640px) ====== */
@media (max-width:640px){
  .app-header{ height:64px; padding:0 1rem; }
  .app-logo{ height:44px; }
  .logo-text{ font-size:1.2rem; }

  .main-container{ margin:88px auto 36px; padding:0 1rem; max-width:100%; }
  .form-card{ padding:1.25rem; border-radius:16px; }

  label{ margin-top:.9rem; }
  .input-field,.select-field,.textarea-field{ font-size:.95rem; padding:.75rem .9rem; margin-bottom:12px; }

  .speaker-grid{ flex-wrap:wrap; gap:1rem; }
  .speaker-box{ flex:1 1 100%; padding:1rem; }

  .wizard{ gap:.6rem; flex-wrap:wrap; padding:0 .25rem; }
  .wizard-dot{ width:28px; height:28px; font-size:.85rem; box-shadow:0 0 14px rgba(16,185,129,.3); }
  .wizard-label{ font-size:.8rem; }
  .wizard-line{ width:auto; flex:1 1 32px; height:4px; }

  /* Buttons: slightly smaller but still roomy */
  .btn--lg,
  .generate-btn,
  .btn-primary,
  #generateBtn,
  #nextBtn,
  .secondary-btn,
  #backBtn{
    height:50px; min-width:180px; padding:0 22px; font-size:1rem;
  }

  .save-section{ flex-wrap:wrap; gap:.6rem; }
  .save-status{ width:100%; text-align:center; font-size:.9rem; }

  #scriptEditor{ min-height:50vh; font-size:.95rem; padding:.9rem; }
  .progress-bar{ width:100%; }
  #progressText{ font-size:.85rem; }
}

/* tiny animation used by modal */
@keyframes popIn{ from{ transform:scale(.98); opacity:0 } to{ transform:scale(1); opacity:1 } }

/* 0) Global fluid defaults */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }
img, video, canvas, iframe { max-width: 100%; height: auto; display: block; }
input, select, textarea, button { width: 100%; max-width: 100%; }

/* Fluid type: scales across devices */
:root{
  --fs-h1: clamp(1.6rem, 2vw + 1rem, 3rem);
  --fs-h2: clamp(1.2rem, 1.2vw + .9rem, 2rem);
  --fs-body: clamp(.95rem, .4vw + .8rem, 1.125rem);
}
.title{ font-size: var(--fs-h1); }
h2{ font-size: var(--fs-h2); }
body{ font-size: var(--fs-body); line-height: 1.6; }

/* Main container stays comfy at any width */
.main-container { width: min(1100px, 100% - 2rem); }

/* Speaker grid: mobile-first = 1 column */
.speaker-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
.speaker-box { min-width: 0; } /* prevent overflow */

/* Wizard: avoid crowding on small screens */
.wizard { gap: .5rem; }
.wizard-label { font-size: .85rem; }

/* ======= Breakpoints ======= */

/* ≥640px: large phones / small tablets */
@media (min-width: 640px) {
  .form-card { padding: 1.25rem 1.5rem; }
}

/* ≥768px: tablets / iPad portrait */
@media (min-width: 768px) {
  .speaker-grid { grid-template-columns: repeat(2, 1fr); }
  .wizard-dot { width: 34px; height: 34px; font-size: .95rem; }
  .btn-row { display:flex; gap:.8rem; }
  .secondary-btn, .btn-primary { width:auto; } /* stop full-width buttons on tablet+ */
}

/* ≥1024px: iPad landscape / small laptops */
@media (min-width: 1024px) {
  .main-container { width: min(1150px, 100% - 4rem); }
  .form-card { padding: 1.75rem 2rem; }
  .wizard { gap: 1rem; }
}

/* ≥1280px: desktops */
@media (min-width: 1280px) {
  .speaker-grid { grid-template-columns: repeat(3, 1fr); } /* nice on big screens */
}

/* Orientation tweaks (optional) */
@media (orientation: landscape) and (max-height: 500px) {
  .title { margin-top: .5rem; }
  .form-card { padding: 1rem; }
}

/* Modal safety: fits on small screens */
#confirmModal .dialog { width: min(560px, 92vw); max-height: 85vh; overflow:auto; }

/* Buttons never wrap text awkwardly */
.btn, .btn-primary, .secondary-btn { white-space: nowrap; }

/* Prevent long words/URLs from breaking layout */
.textarea-field, .input-field { word-break: break-word; }




  /* ===== Wait Overlay ===== */
  #waitOverlay.hidden { display: none; }
  #waitOverlay {
    position: fixed;
    inset: 0;
    z-index: 100; /* above modal */
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #waitOverlay .wait-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.75);
    backdrop-filter: blur(3px);
  }
  #waitOverlay .wait-content {
    position: relative;
    text-align: center;
    color: #e5e7eb;
    background: #1f2937;
    border-radius: 16px;
    padding: 32px 40px;
    border: 1px solid rgba(16,185,129,.3);
    box-shadow: 0 20px 50px rgba(0,0,0,.45);
    animation: popIn .25s ease;
     display: flex;
  flex-direction: column; /* stack text and logo vertically */
  align-items: center;    /* center horizontally */
  justify-content: center; /* center vertically */
  gap: 16px;              /* space between text and logo */
}

  .wait-text {
  font-size: 1.25rem;
  margin-bottom: 0;
}
  .wait-logo {
    width: 60px;
    height: 60px;
   margin-top: 8px;
    animation: spin 1.8s linear infinite;
  }


  @keyframes spin {
    from { transform: rotate(0deg); }
    to   { transform: rotate(360deg); }
  }

